class Categories{constructor(e){this.path=e}async getJSON(){const e=await fetch(this.path);e.ok?new Сategory(await e.text()).renderCategory():console.error(e.status)}}class Сategory{constructor(e){this.result=JSON.parse(e),this.hexGrid=document.querySelector("#hexGrid")}renderCategory(){let e="";this.result.structure.forEach(({catName:t,catImage:a,catAlias:s,catApps:i})=>{i.length>1?e+=`<li class="hex"><div class="hexIn"><a class="hexLink" href="#" data-cat="${t}"><div class="hexImageWrapper">${a}</div><h2 class="hexTitle">${s}</h2></a></div></li>`:e+=`<li class="hex"><div class="hexIn"><a class="hexLink" href="${i[0].appLink}" data-cat="${t}"><div class="hexImageWrapper">${a}</div><h2 class="hexTitle">${s}</h2></a></div></li>`}),this.hexGrid.insertAdjacentHTML("beforeend",e),this.renderApps()}renderApps(){let e="";const t=this.hexGrid.querySelectorAll(".hexLink"),a=t=>{e="",this.result.structure.forEach(({catName:a,catApps:s})=>{s.length>1&&a===t.currentTarget.getAttribute("data-cat")&&s.forEach(({appName:t,appLink:a})=>{e+=`<li class="modal-info-list-item"><a class="modal-info-link" href="${a}">${t}</a></li>`})}),new ModalWindow(`<ul class="modal-info-list">${e}</ul>`,t.currentTarget).renderInfoWindow()};t.forEach(e=>{e.addEventListener("click",a)})}}class Navigation{constructor(){}menuSelect(){document.querySelectorAll(".head-nav-link").forEach(e=>{e.addEventListener("click",e=>{const t=e.currentTarget.getAttribute("data-menu");""!==menuItems[t]&&new ModalWindow(menuItems[t]).renderInfoWindow()})})}}class BurgerMenu{constructor(){}budrgerChange(){const e=e=>document.querySelector(e),t=e(".head-nav"),a=e(".burger-menu"),s=e(".burger-menu-top"),i=e(".burger-menu-center"),r=e(".burger-menu-bottom");a.addEventListener("click",e=>{t.classList.toggle("head-nav-active"),s.classList.toggle("burger-menu-top-active"),i.classList.toggle("burger-menu-center-active"),r.classList.toggle("burger-menu-bottom-active")})}}class ModalWindow{constructor(e,t=""){this.content=e,this.currentObject=t}renderInfoWindow(){if(this.content.length>33){const e=e=>document.querySelector(e),t=e(".modal"),a=e(".modal-info-content"),s=e(".modal-info-close");a.insertAdjacentHTML("afterbegin",this.content),t.classList.add("modal-active"),this.currentObject&&this.currentObject.classList.add("hexLink-active");const i=e=>{a.innerHTML="",t.classList.remove("modal-active"),this.currentObject&&this.currentObject.classList.remove("hexLink-active")};s.addEventListener("click",i)}}}const menuItems={aboutsystem:'<div class="about-wrapper"><span class="about-tiltle">Единая геоинформационная система Ненецкого автономного округа (ГИС НАО)</span><ul class="about-list"><li class="about-list-item">ГИС НАО – это информационная система, предоставляющая доступ к региональным пространственным данным Ненецкого автономного округа.</li><li class="about-list-item">ГИС НАО позволяет получать оперативную и достоверную информацию о территории Ненецкого автономного округа за счёт объединения всех сведений о территории региона, населении, здравоохранении, образовании, доступности природных ресурсов, инвестиционном потенциале, инфраструктурном развитии и многих других сферах.</li><li class="about-list-item">Тематическая информация, содержащаяся в ГИС НАО, представлена в виде соответствующих приложений.</li><li class="about-list-item">В качестве дополнительных данных в ГИС НАО включены сведения с портала Росреестра,  Федеральной информационной системы территориального планирования (ФГИС ТП) и других отечественных и зарубежных источников открытых пространственных данных.</li><li class="about-list-item">По всем вопросам связанным с работой ГИС НАО, обращайтесь в отдел геоинформационных систем КУ НАО &laquo;Ненецкий информационно-аналитический центр&raquo;</li><li class="about-list-item">E-mail: <a class="aboutLink" href="mailto:gis@adm-nao.ru ? subject = Сообщение с портала ГИС НАО" title="Отправить почту">gis@adm-nao.ru</span></a></li><li class="about-list-item">Телефон: <a class="aboutLink" href = "tel:+78185323907" title="Позвонить">2-39-07</a></li></ul></div>',reference:'<div class="about-wrapper"><span class="appDevelop">Приложение в разработке</span></div>',catalog:'<div class="about-wrapper"><span class="appDevelop">Приложение в разработке</span></div>',olddesign:""};window.onload=()=>{new Categories("../json/structure.json").getJSON(),(new BurgerMenu).budrgerChange(),(new Navigation).menuSelect()};